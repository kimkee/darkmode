<!DOCTYPE html>
<html lang="ko">

<head>
    <title>DarkMode - 다크모드</title>
    <meta name="description" content="다크모드 버튼 만들기">
    <meta charset="utf-8">
    <link href="//kimkee.github.io/ui/static/img/common/favicon.ico" rel="shrtcut icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, shrink-to-fit=no, viewport-fit=cover">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="./style.css?v9">
</head>
<style>
    .big{transform: scale(2); display: flex; flex-direction: column; align-items: center;}
    .top{position: absolute;top: 20px;}
    .top.left{left: 20px;}
    .top.right{right: 20px;}
    .footer{position: absolute;left: 50%;bottom: 20px;transform: translatex(-50%);font-size: 15px;}
</style>
<body class="body">
    
    <div class="top left">
        <span data-ui="dark" class="check-dark">
            <input type="checkbox" onchange="togDark()">
            <em></em>
            <b><i class="d fa-solid fa-moon"></i><i class="l fa-solid fa-sun"></i></b>
        </span>
    </div>

    <div class="top right">
        <span data-ui="dark" class="check-dark2">
            <input type="checkbox" onchange="togDark()">
            <em></em>
            <b><i class="d fa-solid fa-moon"></i><i class="l fa-solid fa-sun"></i></b>
        </span>
    </div>

    <div class="big">
        
        <span data-ui="dark" class="check-dark">
            <input type="checkbox" onchange="togDark()">
            <em></em>
            <b><i class="d fa-solid fa-moon"></i><i class="l fa-solid fa-sun"></i></b>
        </span>
        
        <h1 class="hdt">DARKMODE</h1>

        <span data-ui="dark" class="check-dark2">
            <input type="checkbox" onchange="togDark()">
            <em></em>
            <b><i class="d fa-solid fa-moon"></i><i class="l fa-solid fa-sun"></i></b>
        </span>

    </div>

    <script>
        const darkMode = window.matchMedia('(prefers-color-scheme: dark)');
        const htmlCls  = document.documentElement.classList;
        const chkTogs  = document.querySelectorAll('[data-ui="dark"]>input');
        const locDark  = JSON.parse(localStorage.getItem('darkmode'));

        const initDark = ()=> locDark === null ? setDark( darkMode.matches ) : setDark( locDark ) ;
        const togDark  = ()=> setDark( !htmlCls.contains('dark') );
        const setDark  = (isDark)=> {
            chkTogs.forEach( tog => tog.checked = isDark );
            htmlCls.toggle('dark', isDark);
            localStorage.setItem('darkmode',isDark);
        }
        document.addEventListener('DOMContentLoaded', initDark);
        darkMode.addEventListener('change', initDark);
    </script>

    <footer class="footer"><h2><a href="https://github.com/kimkee/darkmode" target="_blank">https://github.com/kimkee/darkmode</a></h2></footer>

</body>

</html>